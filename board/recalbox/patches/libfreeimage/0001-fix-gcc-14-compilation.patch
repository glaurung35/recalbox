From 9157930eb2498934e38460d890e0aed8a317e518 Mon Sep 17 00:00:00 2001
From: David Barbion <davidb@230ruedubac.fr>
Date: Thu, 1 Aug 2024 22:37:26 +0200
Subject: [PATCH] fix gcc 14 compilation

---
 Source/LibJXR/image/sys/strcodec.h    | 1 +
 Source/LibJXR/jxrgluelib/JXRGlueJxr.c | 1 +
 2 files changed, 2 insertions(+)

diff --git a/Source/LibJXR/image/sys/strcodec.h b/Source/LibJXR/image/sys/strcodec.h
index fee0b11..bc5e966 100644
--- a/Source/LibJXR/image/sys/strcodec.h
+++ b/Source/LibJXR/image/sys/strcodec.h
@@ -679,3 +679,4 @@ void flushToByte(BitIOInfo* pIO);
 //    pIO->uiAccumulator = LOAD16(pIO->pbCurrent) & ((U32)(-1) >> pIO->cBitsUsed);\
 
 void OutputPerfTimerReport(CWMImageStrCodec *pState);
+U32 _byteswap_ulong(U32 bits);
diff --git a/Source/LibJXR/jxrgluelib/JXRGlueJxr.c b/Source/LibJXR/jxrgluelib/JXRGlueJxr.c
index 2bf085a..182fc7f 100644
--- a/Source/LibJXR/jxrgluelib/JXRGlueJxr.c
+++ b/Source/LibJXR/jxrgluelib/JXRGlueJxr.c
@@ -28,6 +28,7 @@
 //*@@@---@@@@******************************************************************
 #include <limits.h>
 #include <JXRGlue.h>
+#include <wchar.h>
 
 
 static const char szHDPhotoFormat[] = "<dc:format>image/vnd.ms-photo</dc:format>";
-- 
2.46.0

