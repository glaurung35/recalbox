From 8bfa3b80f6a2db365dfd1e8a6c06b7b0844327cf Mon Sep 17 00:00:00 2001
From: pstef <pstef@users.noreply.github.com>
Date: Sat, 18 May 2024 18:17:18 +0200
Subject: [PATCH] Fix type to enable compilation (#92)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Before this commit I got a compilation error about type mismatch between
short int * and unsigned char *.

To keep the buffer size intact, I double the number of elements since
char is usually half the size of short int.

Co-authored-by: Piotr Pawe≈Ç Stefaniak <3462925+pstef@users.noreply.github.com>
---
 libretro/core-mapper.c   | 2 +-
 libretro/libretro-core.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/libretro/core-mapper.c b/libretro/core-mapper.c
index c0bd282..66de339 100644
--- a/libretro/core-mapper.c
+++ b/libretro/core-mapper.c
@@ -26,7 +26,7 @@ unsigned long  Ktime=0 , LastFPSTime=0;
 #endif 
 
 //SOUND
-short signed int SNDBUF[1024*2];
+unsigned char SNDBUF[1024*2*2];
 int snd_sampler_pal = 44100 / 50;
 int snd_sampler_ntsc = 44100 / 60;
 
diff --git a/libretro/libretro-core.c b/libretro/libretro-core.c
index d65f345..aa3fed8 100644
--- a/libretro/libretro-core.c
+++ b/libretro/libretro-core.c
@@ -135,7 +135,7 @@ extern int ToggleTV;
 extern int CURRENT_TV;
 
 extern int SHIFTON, pauseg, SND;
-extern short signed int SNDBUF[1024 * 2];
+extern unsigned char SNDBUF[];
 
 char RPATH[512];
 char RETRO_DIR[512];
