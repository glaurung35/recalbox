Waveshare PoE and Fan - Oled and fan controller
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

This program displays CPU temperature on the Waveshare PoE hat screen and
controls the fan (manual switch set to P0). The fan is started at 50°c and
stopped at 40°c.

This program can handle OLED sreen and fan of waveshare's PoE hat model B.

For this program to work, you have to enable an overlay, in your /boot/config.txt:

  dtparam=i2c1=on

then reboot. Then load the i2c-dev kernel module:

  modprobe i2c-dev

Compatible hardware
~~~~~~~~~~~~~~~~~~~

- Waveshare PoE Hat B

Contributing
~~~~~~~~~~~~

Here is a little guide to add support for a new board.
For this guide you will need the references of the controllers
found on the board.
Then, you will need datasheet of those controllers in order to
control them.

A board is composed of a fan and/or a screen.
(if there is no screen on your board create dummy functions).

To add support for a new fan controller, you have to create:
  changeme_fan_controller.h which contains definition of functions,
  changeme_fan_controller.c which contains code to controll the controller.

Fan controller functions are derivated from fan_driver.h:
  init():  initialize the fan controller (send command sequence for example)
  on():    start the fan
  off():   stop the fan
  close(): close files and free structures (on program exit)

For the display, it is quite the same:
  changeme_oled_controller.h
  changem_oled_controller.c

Once your fan and display controller are created, you can create a new board,
derivated from board_driver.h. A board controller have only 2 functions:
  init():  initialize fan and display
  close(): close and free resources on program exit

Add a new definition in boards.h (both board_list and board_id).

